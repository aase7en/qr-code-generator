<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator API</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        #qrcode {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="qrcode"></div>

    <script>
        // ฟังก์ชันสำหรับอ่านค่าพารามิเตอร์จาก URL
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // อ่านค่าพารามิเตอร์ต่างๆ จาก URL
        const text = getUrlParameter('text');
        const size = parseInt(getUrlParameter('size')) || 350;
        const margin = parseInt(getUrlParameter('margin')) || 1;
        const dark = getUrlParameter('dark') || '#000000';
        const light = getUrlParameter('light') || '#ffffff';
        
        // ถ้ามีการระบุข้อความ ให้สร้าง QR Code
        if (text) {
            new QRCode(document.getElementById("qrcode"), {
                text: text,
                width: size,
                height: size,
                colorDark: dark,
                colorLight: light,
                correctLevel: QRCode.CorrectLevel.H,
                margin: margin
            });
        }
    </script>
</body>
</html>
